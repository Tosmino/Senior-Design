#include "mcc_generated_files/system.h"

void _ISR _T1Interrupt(void)
{
    PORTA++; // Increment PORTA
    _T1IF = 0; // reset T1 Flag
}

int main(void)
{
    // initialize the device
    SYSTEM_Initialize();
    
    TRISDbits.TRISD6 = 1; // Makes RD6 an input
    TRISA=0xff00; // Set least significant bits of PORTA as outputs
    T1CON=0x8030; // Set one to one pre-scaler
    _T1IF = 4; // Timer 1 interrupt priority
    PR1 = 20000 - 1; // Set max value for the timer
    
    _T1IF = 0; // Clear the timer value
    _T1IE = 1; // Enable the timer

    while (1)
    {
        if(PORTDbits.RD6 == 0) // If button is pressed, reset
        {
          PORTA = 0;  // reset PORTA
        }
        Nop();
    }

    return 1;
}